<template>
    <!-- Form fields for creating/editing a book -->
    <lightning-card title={cardTitle}>
        <header class="slds-modal__header">
            <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={cancel}>
                <lightning-icon icon-name="utility:close" alternative-text="Close" size="small"></lightning-icon>
            </button>
        </header>
        <div class="slds-m-around_medium">
            <div class="slds-grid slds-gutters">
                <div class="slds-col">
                    <lightning-input label="Title" name="title" value={title} onchange={handleInputChange}></lightning-input>
                    <lightning-input label="Author" name="author" value={author} onchange={handleInputChange}></lightning-input>
                    <lightning-combobox name="genre" label="Genre" placeholder="Select Genre" options={genreOptions} value={genre} onchange={handleInputChange}></lightning-combobox>
                    <lightning-input label="Price" type="number" name="price" value={price} onchange={handleInputChange}></lightning-input>
                    <lightning-input label="Available Quantity" type="number" name="stockQuantity" value={stockQuantity} onchange={handleInputChange}></lightning-input>
                    <lightning-input label="Sold Out Quantity" type="number" name="soldQuantity" value={soldQuantity} onchange={handleInputChange}></lightning-input>
                    <lightning-input type="file" accept="image/*" onchange={handleFileInputChange} ></lightning-input>
                    <div class="slds-grid slds-wrap">
                        <div> <p>{uploadedFileName}</p></div>
                        &emsp;
                        <div>
                            <template if:true={imageUrl}>
                                <a onclick={openModal}>Preview</a>                           
                            </template>    
                        </div>                    
                    </div>                 
                    <div if:true={showModal}>
                        <header class="slds-modal__header">
                            <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeModal}>
                                <lightning-icon icon-name="utility:close" alternative-text="Close" size="small"></lightning-icon>
                            </button>
                        </header>
                        <img src={imageUrl} alt="Preview Image" />                       
                    </div>
                </div>
            </div>
            <!-- Save and Cancel buttons -->
            <div class="slds-m-top_medium">
                <lightning-button label={saveButtonLabel} variant="brand" onclick={saveBook}></lightning-button>
                <lightning-button label="Cancel" variant="neutral" onclick={cancel}></lightning-button>
            </div>
        </div>
    </lightning-card>
    
</template>
